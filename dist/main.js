(()=>{"use strict";class e{constructor(e,t,n,i){this.length=e,this.hits=[],this.killed=!1,this.coordinateX=t,this.coordinateY=n,this.position=i,this.coordinates=[]}hit(){return this.hits.push({coordinateX:this.coordinateX,coordinateY:this.coordinateY}),this.hits.length}isSunk(){return this.length-this.hits.length==0&&(this.killed=!0,!0)}}class t{constructor(){this.ships=[],this.hitsMissed=[],this.sunkedShips=0}addShip(t,n,i,o){const s=new e(i,t,n,o);if(1===s.length?s.coordinates.push({x:t,y:n}):2===s.length&&"vertical"===s.position?s.coordinates.push({x:t,y:n},{x:t,y:n+1}):2===s.length&&"horizontal"===s.position?s.coordinates.push({x:t,y:n},{x:t+1,y:n}):3===s.length&&"vertical"===s.position?s.coordinates.push({x:t,y:n},{x:t,y:n+1},{x:t,y:n+2}):3===s.length&&"horizontal"===s.position&&s.coordinates.push({x:t,y:n},{x:t+1,y:n},{x:t+2,y:n}),this.ships.length>0)for(let e=0;e<this.ships.length;e++){let t=this.ships[e].coordinates,n=s.coordinates;for(let e=0;e<t.length;e++){if(n[0].x===t[e].x&&n[0].y===t[e].y)return"This coordinates are use";if(n[0].x===t[e].x+1&&n[0].y===t[e].y+1)return"This coordinates are use";if(n[0].x===t[e].x-1&&n[0].y===t[e].y-1)return"This coordinates are use";if(s.length>1){if(n[1].x===t[e].x&&n[1].y===t[e].y)return"This coordinates are use";if(n[1].x===t[e].x+1&&n[1].y===t[e].y+1)return"This coordinates are use";if(n[1].x===t[e].x-1&&n[1].y===t[e].y-1)return"This coordinates are use"}if(s.length>2){if(n[2].x===t[e].x&&n[2].y===t[e].y)return"This coordinates are use";if(n[2].x===t[e].x+1&&n[2].y===t[e].y+1)return"This coordinates are use";if(n[2].x===t[e].x-1&&n[2].y===t[e].y-1)return"This coordinates are use"}}}return this.ships.push(s),s}receiveAttack(e,t){for(let n=0;n<this.ships.length;n++){let i=this.ships[n].coordinates;for(let o=0;o<i.length;o++)if(i[o].x===e&&i[o].y===t)return this.ships[n].hit(),this.ships[n].isSunk()?(this.sunkedShips++,this.endGame()):this.ships[n].hits}let n={coordinateX:e,coordinateY:t};return this.hitsMissed.push(n),n}endGame(){return this.sunkedShips===this.ships.length}}const n=new t;n.addShip(3,2,3,"horizontal"),console.log(n.addShip(3,2,3,"horizontal"));const i=new class{constructor(){this.shoots=[],this.gameboard=new t,this.score=this.gameboard.sunkedShips}welcome(){const e=document.querySelector(".preLoad div input");document.querySelector("#yourName").innerHTML=e.value}addShips(e,t,n,i){return this.gameboard.addShip(e,t,n,i),this.gameboard}shoot(e,t){let n={x:e,y:t};return this.shoots.push(n),n}};(()=>{const e=document.createElement("header"),t=document.createElement("h1");t.innerText="BattleShip",e.appendChild(t),document.body.appendChild(e);const n=document.createElement("section");n.classList.add("preLoad");const i=document.createElement("div"),o=document.createElement("label");o.innerText="Type your name";const s=document.createElement("input");s.name="myName";const r=document.createElement("button");r.classList.add("submitMyName"),r.innerText="START",i.appendChild(o),i.appendChild(s),i.appendChild(r),n.appendChild(i),document.body.appendChild(n);const d=document.createElement("main"),a=document.createElement("section");a.id="player";const c=document.createElement("div");c.classList.add("div-input"),c.innerHTML='<span><h2 id="yourName">Name</h2></span>\n    <span><h3>Type coordinates for big ship</h3></span>\n    <h3>X</h3>\n    <input id="coordinateX" type="number" />\n    <h3>Y</h3>\n    <input id="coordinateY" type="number" />\n    <h4 style="width:70%;text-align:center;">Position(vertical,horizontal)</h4>\n    <input style="width:30%;" id="position" type="text" />\n    <button id="placeShip">Place ship</button>\n    <span>Score:<h2 class="playerScore">0</h2></span>',a.appendChild(c);const h=document.createElement("div");h.id="gameBoardPlayer";const l=document.createElement("div");l.id="divHolder",h.appendChild(l),a.appendChild(h),d.appendChild(a);const u=document.createElement("section");u.id="ai";const p=document.createElement("h2");p.innerText="AI GameBoard";const m=document.createElement("span");m.innerHTML='Score:<h2 class="aiScore">0</h2></span>',u.appendChild(p),u.appendChild(m);const y=document.createElement("div");y.id="gameBoardAI";const g=document.createElement("div");g.id="divAIHolder",y.appendChild(g),u.appendChild(y),d.appendChild(u),d.classList.add("hidden"),document.body.appendChild(d)})(),(()=>{const e=document.querySelector(".submitMyName"),t=document.querySelector(".preLoad div input");e.addEventListener("click",(()=>{""==t.value?alert("Type your name"):(i.welcome(),document.querySelector(".preLoad").classList.add("hidden"),document.querySelector("main").classList.remove("hidden"),(e=>{let t;"player"===e?t=document.querySelector("#divHolder"):"AI"===e&&(t=document.querySelector(`#div${e}Holder`));let n=0;for(let e=0;e<100;e++){const i=document.createElement("div");i.classList.add("gameBoardDiv"),e<10?(i.innerHTML=n,n++):10==e?i.innerHTML="1":20==e?i.innerHTML="2":30==e?i.innerHTML="3":40==e?i.innerHTML="4":50==e?i.innerHTML="5":60==e?i.innerHTML="6":70==e?i.innerHTML="7":80==e?i.innerHTML="8":90==e&&(i.innerHTML="9"),t.appendChild(i)}})("player"),console.log(i))}))})(),document.querySelector("#placeShip").addEventListener("click",(()=>{const e=document.querySelector("#coordinateX").value,t=document.querySelector("#coordinateY").value,n=document.querySelector("#position").value;if(""===e||""===t||""===n)console.log("type correct properties");else if(e>=0&&e<10&&t>=0&&t<10)if("vertical"===n||"horizontal"===n){let n;document.getElementsByClassName("gameBoardDiv"),n=0===t?e:10*t+e,i.addShips(e,t,3,n)===i.gameboard?(console.log("git"),console.log(i.gameboard)):console.log("zle")}else console.log("error")}))})();